#### `http://geoworks.pro:300<dev>/<function>?[<param>=<value>&]`

Каждый успешный ответ содержит JSON объект или файл. В JSON объекте всегда присутствует поле `ok` (true/false). Если false - в ответе будет код ошибки и текстовое описание.


## Functions
##### `photo`
Снимает фото. После успешного выполнения возвращется файл .jpg. Если возникла ошибка, возвращается JSON объект с описанием ошибки.

Пример ответа с ошибкой: `{"ok":false,"error":{"code":503,"text":"cam is busy"}}`

##### `video`
Параметры:
+ duration (integer, required) - Длительность видео в секундах. Должно быть > 0
Снимает видео длительностью *duration* секунд и отдаёт файл (h264) в ответ. При неудаче JSON с описанием ошибки.

Пример: `/video?duration=30`

##### `stream/start`
Запускает видео трансляцию. Возвращает JSON объект (успех/неудача).

Доступ по адресу: страница `http://geoworks.pro:800<dev>/stream`, элемент для встраивания `http://geoworks.pro:800<dev>/stream/video.mjpeg`

##### `stream/stop`
Останавливает видео трансляцию. Возвращает JSON объект (успех/неудача).

##### `sensors`
Считывает значения датчиков отдаёт JSON объект, содержащий значения или ошибку.

##### `diag`
Возвращает диагностическую информацию об устройстве:
+ id (string)
+ время устройства (string)
+ геопозиция (string)
+ уровень заряда (float(2) 0-1)
+ аптайм в секундах (int)
+ количество ошибок (int)
+ текущее действие (enum string). Возможные значения:
	+ `wait`
	+ `shooting Photo`
	+ `shooting Video`
	+ `streaming Video`
	+ ... будет дополнено

## ...